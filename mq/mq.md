### Kafka、RocketMQ、RabbitMQ

| 特性| Kafka | RocketMQ | RabbitMQ |
|-------|----------|----------|----------|
|  开发语言 |  scala  | java | erlang |
|  单机吞吐 | 10万级 | 10万级  |  万级  |
|  时效性  |   ms级以内 |     ms级     |  us级  |
|  可用性 |   非常高（分布式架构） |  非常高（分布式架构）  |   高（主从模式）  |
|  事务 |   不支持 |  支持  |  不支持  |
|  优点 |   吞吐量非常高，设计架构天然支持可用性，大数据领域应用广泛 |  吞吐量和可用性也非常高，支持事务，功能比较完善，多用于交易系统  |  稳定、健壮、易用，社区活跃度高，适合中小型项目  |
|  缺点 |   分区数达到一定数量后吞吐量下降 |  客户端目前只支持java，其他尚未完善  |  吞吐量稍低一些，使用erlang开发，做二次开发扩展等较难  |


参考:

阿里测试组数据（文章比较老了，稍作参考）：[Kafka、RabbitMQ、RocketMQ等消息中间件的介绍和对比](https://blog.csdn.net/yunfeng482/article/details/72856762)

[高并发架构系列：Kafka、RocketMQ、RabbitMQ的优劣势比较](https://zhuanlan.zhihu.com/p/54450453)

#### kafka 



### 消息丢失问题

消息丢失分为两种情况：

#### 1. 生产者丢失消息的情况

生产者发送消息后，可能由于网络等原因导致消息实际上并没有成功发送，从而造成丢失问题。

Kafka 消息丢失解决：

- 设置 acks = all（-1），表示所有副本都收到消息后才确认成功
- 设置 replication.factor > 1，要求每个 partition 必须有至少 2 个副本
- 设置 min.insync.replicas > 1，消息至少要被写入到 2 个副本才算是被成功发送

RocketMQ 消息丢失解决：

RabbitMQ 消息丢失解决：


#### 2. 生产者丢失消息的情况



### 消息重复问题

### 消息顺序问题

### 消息堆积问题

### 消息重新消费问题